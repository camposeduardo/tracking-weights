<div class="container">
  <div class="row">
    <div *ngIf="exercises_data.length === 0; else cards ">
      <h1 class="text-center"><em>To find a saved exercise, click on a muscle group or search for specific
          exercises.</em></h1>
    </div>

    <ng-template #cards>
      <div *ngFor="let exercise of exercises_data" class="col-6 col-md-4 col-lg-2 mb-3 mt-3">
        <div class="card p-2" style="width: 100%;">
          <div class="dropdown position-absolute" style="top: 5px; right: 5px;">
            <i class="bi bi-three-dots-vertical icon-highlight" id="dropdownMenuButton1" data-bs-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false"></i>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton1">
              <a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#editModal"><i
                  class="bi bi-pencil-fill me-2"></i>Edit</a>
              <a class="dropdown-item text-danger" (click)="onDeleteButton(exercise)"><i
                  class="bi bi-trash me-2"></i>Remove</a>
            </div>
          </div>

          <div class="card-body p-2">
            <h6 class="card-title mb-1">{{exercise.exerciseName}}</h6>
            <p class="mb-1"><em>{{exercise.muscleGroup}}</em></p>
            <hr>
            <p class="mb-1">Date: <strong>{{exercise.date}}</strong></p>
            <p class="mb-1">Weight: <strong>{{exercise.weight}}</strong></p>
            <p class="mb-1">Reps: <strong>{{exercise.reps}}</strong></p>
          </div>
        </div>
      </div>
    </ng-template>
  </div>
</div>

<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header custom-modal-header">
        <h1 class="modal-title text-center" id="exampleModalLabel">Edit Exercise</h1>
        <button
          id="closeModal"
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form>

          <div class="form-group mb-3">
            <label for="username" class="form-label">Exercise Name</label>
            <input
              type="text"
              class="form-control"
              id="username"
              placeholder="Enter exercise name"
              formControlName="username"
              required
            />
          </div>

          <div class="form-group mb-3">
            <label for="muscleGroup" class="form-label">Muscle Group</label>
            <select
              id="muscleGroup"
              class="form-select"
              formControlName="muscleGroup"
              required
            >
              <option value="">Select a muscle group</option>
              <option value="chest">Chest</option>
              <option value="back">Back</option>
              <option value="legs">Legs</option>
            </select>
          </div>

          <div class="form-group mb-3">
            <label for="weight" class="form-label">Weight</label>
            <div class="custom-weight-group">
              <input
                type="number"
                class="form-control"
                id="weight"
                placeholder="Enter weight"
                formControlName="weight"
                required
              />
              <select class="form-select" formControlName="unit">
                <option value="kg">kg</option>
                <option value="lbs">lbs</option>
              </select>
            </div>
          </div>

          <div class="form-group mb-3">
            <label for="reps" class="form-label">Reps</label>
            <input
              type="number"
              class="form-control"
              id="reps"
              placeholder="Enter number of reps"
              formControlName="reps"
              required
            />
          </div>

          <div class="form-group mb-4">
            <label for="date" class="form-label">Date</label>
            <input
              type="date"
              class="form-control"
              id="date"
              formControlName="date"
              required
            />
          </div>

          <div class="modal-footer justify-content-center">
            <button type="submit" class="btn btn-success custom-save-button">Save</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

